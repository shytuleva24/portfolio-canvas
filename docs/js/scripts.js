window.addEventListener("load",(function(){const t=document.querySelector("#canvas"),i=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;let e="";function s(t,e,s,h,n,a,o){h*=Math.PI/180,n*=Math.PI/180;i.fillStyle=o,i.lineWidth=0,i.beginPath(),i.arc(t,e,s,h,n,a),i.fill()}t.width>780&&(s(window.innerWidth/6,350,47,0,360,!1,"#FFD247"),s(window.innerWidth/1.65,350,70,0,360,!1,"#FFD247"),s(window.innerWidth/2,window.innerHeight/2,20,0,360,!1,"#13CC00")),s(0,0,250,0,360,!1,"#FFD247");const h="Hello I`m Olga, front-end developer.";class n{constructor(t,i,e,s){this.effect=t,this.x=Math.random()*this.effect.canvasWidth,this.y=Math.random()*this.effect.canvasHeight,this.originX=i,this.originY=e,this.size=this.effect.gap,this.color=s,this.dx=0,this.dy=0,this.vx=0,this.vy=0,this.force=0,this.angle=0,this.distance=0,this.friction=.6*Math.random()+.15,this.ease=.1*Math.random()+.1}update(){this.dx=this.effect.mouse.x-this.x,this.dy=this.effect.mouse.y-this.y,this.distance=this.dx*this.dx+this.dy*this.dy,this.force=-this.effect.mouse.radius/this.distance,this.distance<this.effect.mouse.radius&&(this.angle=Math.atan2(this.dy,this.dx),this.vx+=this.force*Math.cos(this.angle),this.vy+=this.force*Math.sin(this.angle)),this.x+=(this.vx*=this.friction)+(this.originX-this.x)*this.ease,this.y+=(this.vy*=this.friction)+(this.originY-this.y)*this.ease}draw(){e!=this.color&&(this.effect.context.fillStyle=this.color),this.effect.context.fillRect(this.x,this.y,this.size,this.size)}}class a{constructor(t,i,e){this.context=t,this.canvasWidth=i,this.canvasHeight=e,this.fontSize=50,this.maxTextWidth=this.canvasWidth/100*40,this.textX=this.canvasWidth/100*5,this.gap=2,this.textVerticalOffset=0,this.lineHeight=this.fontSize,this.textY=this.canvasHeight/2-this.lineHeight/2,this.particles=[],this.mouse={radius:2e4,x:0,y:0},document.querySelector("#homePage").addEventListener("mousemove",(t=>{this.mouse.x=t.x,this.mouse.y=t.y})),document.querySelector("#homePage").addEventListener("touchmove",(t=>{this.mouse.x=t.x,this.mouse.y=t.y}))}wrapText(t){this.canvasWidth<680?(this.fontSize=50,this.maxTextWidth=this.canvasWidth/100*80,this.textX=this.canvasWidth/100*5,this.gap=1,this.lineHeight=this.fontSize):this.canvasWidth<1169?this.maxTextWidth=this.canvasWidth/100*40:(this.fontSize=75,this.textX=this.canvasWidth/100*15,this.gap=2,this.lineHeight=this.fontSize),this.context.font="bold "+this.fontSize+"rem DM Sans",this.context.textAlign="start",this.context.textBaseline="middle",this.context.letterSpacing="3px",this.context.imageSmoothingEnabled=!1,this.context.fillStyle="#292930";let i=[],e=t.split(" "),s=0,h="";for(let t=0;t<e.length;t++){let n=h+e[t]+" ";this.context.measureText(n).width>this.maxTextWidth?(h=e[t]+" ",s++):h=n,i[s]=h}let n=this.lineHeight*s;this.textY=this.canvasHeight/2-n/2+this.textVerticalOffset,i.forEach(((t,i)=>{this.context.fillText(t,this.textX,this.textY+i*this.lineHeight),this.context.strokeText(t,this.textX,this.textY+i*this.lineHeight)})),this.convertToParticles()}convertToParticles(){this.particles=[];const t=this.context.getImageData(0,0,this.canvasWidth,this.canvasHeight).data;for(let i=0;i<this.canvasHeight;i+=this.gap)for(let s=0;s<this.canvasWidth;s+=this.gap){const h=4*(i*this.canvasWidth+s);if(t[h+3]>0){const a="rgb("+t[h]+","+t[h+1]+","+t[h+2]+")";e!=a&&(e=a),this.particles.push(new n(this,s,i,a))}}this.context.clearRect(0,0,this.canvasWidth,this.canvasHeight)}render(){this.particles.forEach((t=>{t.update(),t.draw()}))}}let o=new a(i,t.width,t.height);o.wrapText(h),function e(){i.clearRect(0,0,t.width,t.height),o.render(),requestAnimationFrame(e)}(),window.addEventListener("resize",(function(){t.width=window.innerWidth,t.height=window.innerHeight,o=new a(i,t.width,t.height),o.wrapText(h)}))}));
const iconMenu=document.querySelector(".menu-icon"),homeMenuLinks=document.querySelectorAll(".scroll-to"),menuBody=document.querySelector(".menu-body");if(iconMenu&&iconMenu.addEventListener("click",(function(e){document.body.classList.toggle("lock"),iconMenu.classList.toggle("open-menu"),menuBody.classList.toggle("open-menu")})),homeMenuLinks.length>0){function onMenuLinkClick(e){if(document.querySelector(e)){let n=document.querySelector(e).getBoundingClientRect().top+window.pageYOffset;iconMenu.classList.contains("open-menu")&&(document.body.classList.remove("lock"),iconMenu.classList.remove("open-menu"),menuBody.classList.remove("open-menu")),window.scrollTo({top:n,behavior:"smooth"})}}homeMenuLinks.forEach((e=>{e.onclick=function(e){e.preventDefault(),onMenuLinkClick(this.getAttribute("href"))}}))}function animBlockInScroll(){const e=document.querySelectorAll("._anim-items");if(e.length>0){function n(){e.forEach((e=>{const n=e,o=n.offsetHeight,t=function(e){const n=e.getBoundingClientRect();let o=window.pageXOffset||document.documentElement.scrollLeft,t=window.pageYOffset||document.documentElement.scrollTop;return{top:n.top+t,left:n.left+o}}(n).top;let i=window.innerHeight-o/4;o>window.innerHeight&&(i=window.innerHeight-window.innerHeight/4),window.pageYOffset>t-i&&window.pageYOffset<t+o?n.classList.add("_active"):n.classList.contains("_anim-no-hide")||n.classList.remove("_active")}))}window.addEventListener("scroll",n),window.addEventListener("touchmove",n),window.addEventListener("wheel",n),setTimeout((()=>{n()}),300)}}animBlockInScroll();const form=document.querySelector("#form");
class InfinitySlider{constructor(t,s={}){this.settings={...InfinitySlider.defaultSettings,...s},this.slider=document.querySelector(t),this.positionCards=0,this.sliderContainer=this.slider.querySelector(".slider-container"),this.sliderCards=this.sliderContainer.children,this.realCardsLength=this.sliderCards.length,this.heightCards=0,this.widthSliderContainer,this.cardsCount,this.widthCards,this.distanceCards,this.cloneCard,this.prevBtnSlider,this.nextBtnSlider,this.sliderInterval,this.maxHeight,this.sliderDots,this.touchPoint}static defaultSettings={isSlidesToScrollAll:!1,gap:0,isArrows:!1,isDots:!1,distanceToDots:0,isAutoplay:!1,autoplaySpeed:3e3,baseCardWidth:null,transitionCard:"all 1s ease-in-out",isEffectFadeOut:!1};init(){if(this.widthSliderContainer=this.sliderContainer.getBoundingClientRect().width,null==this.settings.baseCardWidth&&(this.settings.baseCardWidth=this.widthSliderContainer),this.slider.querySelectorAll(".clone").forEach((t=>{t.remove()})),localStorage[this.slider.id+"Interval"]&&clearInterval(localStorage[this.slider.id+"Interval"]),this.slider.style.position="relative",this.slider.style.overflow="hidden",this.sliderContainer.style.position="relative",this.sliderContainer.style.width="100%",this.cardsCount=Math.floor(this.widthSliderContainer/(parseInt(this.settings.baseCardWidth)+this.settings.gap)),0==this.cardsCount&&(this.cardsCount=1),this.distanceCards=this.settings.gap,this.widthCards=(this.widthSliderContainer-(this.cardsCount-1)*this.distanceCards)/this.cardsCount,this.positionCards=0-(this.distanceCards+this.widthCards),this.settings.isArrows&&this.creationArrows(),this.prevBtnSlider=this.slider.querySelector(".left.slider_navigation"),this.nextBtnSlider=this.slider.querySelector(".right.slider_navigation"),this.settings.isArrows&&this.sliderCards.length<=this.cardsCount?(this.prevBtnSlider.style.display="none",this.nextBtnSlider.style.display="none"):this.settings.isArrows&&(this.prevBtnSlider.style.display="block",this.nextBtnSlider.style.display="block"),this.settings.isDots&&this.realCardsLength>1){this.creationDots(),this.sliderDots=document.querySelectorAll(".slider-dot");for(let t=0;t<this.sliderCards.length;t++)this.sliderCards[t].classList.contains("activeFade")&&(this.sliderDots[t].classList.remove("activeFade"),this.sliderCards[t].classList.remove("activeFade"));this.sliderDots[0].classList.add("activeFade"),this.sliderCards[0].classList.add("activeFade")}this.settings.isEffectFadeOut||(this.creationClons(),this.shuffleCard()),this.sliderCards=this.sliderContainer.children,this.heightCards=0;for(let t=0;t<this.sliderCards.length;t++)this.sliderCards[t].style.width=this.widthCards+"px",this.sliderCards[t].style.position="absolute",this.maxHeight=this.sliderCards[t].getBoundingClientRect().height,this.heightCards<this.maxHeight&&(this.heightCards=this.maxHeight),this.sliderCards[t].style.transition="none",setTimeout((()=>{this.sliderCards[t].style.transition=this.settings.transitionCard}),1);this.settings.isDots?this.sliderContainer.style.height=this.heightCards+this.settings.distanceToDots+"px":this.sliderContainer.style.height=this.heightCards+"px",this.sliderDots=document.querySelectorAll(".slider-dot"),this.sliderDots.forEach((t=>{t.onclick=()=>{clearInterval(localStorage[this.slider.id+"Interval"]);for(let t=0;t<this.realCardsLength;t++)this.sliderDots[t].classList.remove("activeFade"),this.sliderCards[t].classList.remove("activeFade");this.sliderCards[t.dataset.order].classList.add("activeFade"),t.classList.add("activeFade")}})),this.settings.isAutoplay&&this.realCardsLength>this.cardsCount&&this.startAutoPlay(),this.slider.addEventListener("touchend",(()=>{this.settings.isAutoplay&&this.realCardsLength>this.cardsCount&&this.startAutoPlay()})),this.touchSlider=this.touchSlider.bind(this),this.slider.addEventListener("touchstart",(t=>{this.touchPoint=t.touches[0].pageX,this.slider.addEventListener("touchmove",this.touchSlider),clearInterval(localStorage[this.slider.id+"Interval"])})),this.slider.onmouseenter=()=>{clearInterval(localStorage[this.slider.id+"Interval"])},this.slider.onmouseleave=()=>{this.settings.isAutoplay&&this.realCardsLength>this.cardsCount&&this.startAutoPlay()}}creationClons(){let t=1;do{this.cloneCard=this.sliderCards[this.sliderCards.length-t].cloneNode(!0),this.cloneCard.classList.add("clone"),this.cloneCard.style.transition="none",this.sliderContainer.insertAdjacentElement("afterbegin",this.cloneCard),this.realCardsLength=this.sliderCards.length-this.slider.querySelectorAll(".clone").length,t++}while(t<=this.realCardsLength&&this.settings.isSlidesToScrollAll);if(this.settings.isSlidesToScrollAll)for(t=0;t<this.realCardsLength;)this.cloneCard=this.sliderCards[t].cloneNode(!0),this.cloneCard.classList.add("clone"),this.cloneCard.style.transition="none",this.sliderContainer.insertAdjacentElement("beforeend",this.cloneCard),t++}creationArrows(){if(this.slider.querySelectorAll(".slider_navigation").length<1){this.prevBtnSlider=document.createElement("span"),this.nextBtnSlider=document.createElement("span"),this.prevBtnSlider.className="left slider_navigation",this.nextBtnSlider.className="right slider_navigation",this.slider.insertAdjacentElement("afterbegin",this.prevBtnSlider),this.slider.insertAdjacentElement("beforeend",this.nextBtnSlider);let t=!0;const s=()=>{t=!1,setTimeout((()=>{t=!0}),1e3*parseFloat(this.sliderCards[0].style.transitionDuration))};this.prevBtnSlider.onclick=()=>{t&&(this.changeSlide("left"),s())},this.nextBtnSlider.onclick=()=>{t&&(this.changeSlide("right"),s())}}}creationDots(){if(!this.slider.querySelector(".dots-container")){let t=document.createElement("div");t.style.position="absolute",t.className="dots-container",t.style.bottom="0",this.slider.insertAdjacentElement("beforeend",t);for(let s=0;s<this.realCardsLength;s++){const i=document.createElement("span");i.className="slider-dot",i.dataset.order=s,t.insertAdjacentElement("beforeend",i)}}}shuffleCard(){this.sliderCards=this.sliderContainer.children,this.positionCards=0-(this.distanceCards+this.widthCards),this.settings.isSlidesToScrollAll&&(this.positionCards=0-(this.distanceCards+this.widthCards)*this.realCardsLength);for(let t=0;t<this.sliderCards.length;t++)this.sliderCards[t].style.left=this.positionCards+"px",this.positionCards+=this.distanceCards+this.widthCards}changeSlide(t){this.widthSliderContainer=this.sliderContainer.getBoundingClientRect().width,this.cardsCount=Math.floor(this.widthSliderContainer/(parseInt(this.settings.baseCardWidth)+this.settings.gap)),0==this.cardsCount&&(this.cardsCount=1),this.widthCards=(this.widthSliderContainer-(this.cardsCount-1)*this.distanceCards)/this.cardsCount,this.sliderCards=this.sliderContainer.children;let s=0;for(let t=0;t<this.sliderCards.length;t++)this.sliderCards[t].classList.contains("activeFade")&&(s=t);if("left"==t)if(this.settings.isSlidesToScrollAll)for(let t=0;t<this.cardsCount;t++)this.sliderContainer.insertAdjacentElement("afterbegin",this.sliderCards[this.sliderCards.length-1]);else if(this.settings.isEffectFadeOut)setTimeout((()=>this.sliderCards[s].classList.add("activeFade")),800),setTimeout((()=>this.sliderDots[s].classList.add("activeFade")),800),this.sliderCards[s].classList.remove("activeFade"),this.sliderDots[s].classList.remove("activeFade"),this.sliderCards[s-1]?s--:s=this.sliderCards.length-1;else{this.sliderCards[this.sliderCards.length-1].remove();let t=this.sliderCards[this.sliderCards.length-1].cloneNode(!0);t.classList.add("clone"),this.sliderContainer.insertAdjacentElement("afterbegin",t),this.sliderCards[1].classList.remove("clone")}else if("right"==t)if(this.settings.isSlidesToScrollAll)for(let t=0;t<this.cardsCount;t++)this.sliderContainer.insertAdjacentElement("beforeend",this.sliderCards[0]);else if(this.settings.isEffectFadeOut)setTimeout((()=>this.sliderCards[s].classList.add("activeFade")),800),setTimeout((()=>this.sliderDots[s].classList.add("activeFade")),800),this.sliderCards[s].classList.remove("activeFade"),this.sliderDots[s].classList.remove("activeFade"),this.sliderCards[s+1]?s++:s=0;else{this.sliderCards[0].remove();let t=this.sliderCards[0].cloneNode(!0);t.classList.add("clone"),this.sliderContainer.insertAdjacentElement("beforeend",t),this.sliderCards[this.sliderCards.length-2].classList.remove("clone")}this.settings.isEffectFadeOut||this.shuffleCard()}startAutoPlay(){if(clearInterval(localStorage[this.slider.id+"Interval"]),this.settings.isEffectFadeOut){let t=0;for(let s=0;s<this.sliderCards.length;s++)this.sliderCards[s].classList.contains("activeFade")&&(t=s);const s=t=>{setTimeout((()=>this.sliderCards[t].classList.add("activeFade")),1e3),setTimeout((()=>this.sliderDots[t].classList.add("activeFade")),1e3)};this.sliderInterval=setInterval((()=>{this.sliderCards[t].classList.remove("activeFade"),this.sliderDots[t].classList.remove("activeFade"),this.sliderCards[t+1]?t++:t=0,s(t)}),this.settings.autoplaySpeed)}else this.sliderInterval=setInterval((()=>{this.changeSlide("right")}),this.settings.autoplaySpeed);localStorage[this.slider.id+"Interval"]=this.sliderInterval}touchSlider(t){this.touchPoint+20<t.touches[0].pageX?(this.changeSlide("left"),this.slider.removeEventListener("touchmove",this.touchSlider)):this.touchPoint-20>t.touches[0].pageX&&(this.changeSlide("right"),this.slider.removeEventListener("touchmove",this.touchSlider))}}const sliderTools=new InfinitySlider(".technology-slider",{isArrows:!0,isSlidesToScrollAll:!0,baseCardWidth:"300rem",gap:20,isAutoplay:!0,autoplaySpeed:5e3,transitionCard:"all 1s ease-in-out"}),sliderPortfolio=new InfinitySlider(".works-slider",{isArrows:!0,baseCardWidth:"300rem",gap:30,isAutoplay:!0,autoplaySpeed:5e3,transitionCard:"all 1s ease-in-out"});sliderTools.init(),sliderPortfolio.init(),window.onresize=function(){sliderTools.init(),sliderPortfolio.init()};